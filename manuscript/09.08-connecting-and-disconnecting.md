
A reference to the client will be stored in the `client` variable and reused each time a call needs to be made. The `connectDB` function will make the connection to the client if it isn't already made, and then return a reference to the database.

```js
// db/dbFunctions.js

import mongodb, { ObjectID } from 'mongodb'
import { removeIdProp } from './helpers'
import config from '../config'

const MongoClient = mongodb.MongoClient

let client

export const connectDB = async () => {
  if (!client) {
    client = await MongoClient.connect(config.mongoUrl, { useNewUrlParser: true })
  }
  return { db: client.db(config.dbName) }
}

export const close = async ()  => {
  if (client) {
    client.close()
  }
  client = undefined
}

```
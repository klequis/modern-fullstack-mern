# Connecting and Disconnecting

A reference to the client will be stored in the `client` variable and reused each time a call needs to be made. The `connectDB` function will make the connection to the client if it isn't already made, and then return a reference to the database.

Add Imports and `connectDB` to `db/dbFunctions.js`

```js
import mongodb, { ObjectID } from 'mongodb'
import { removeIdProp } from './helpers'
import config from '../config'

const MongoClient = mongodb.MongoClient

let client

const connectDB = async () => {
  if (!client) {
    client = await MongoClient.connect(config.mongoUrl, { useNewUrlParser: true })
  }
  return { db: client.db(config.dbName) }
}
```

Add `close` to `db/dbFunctions.js`
```js
export const close = async ()  => {
  if (client) {
    client.close()
  }
  client = undefined
}
```

Add `` to exports in `db/index.js`

__db/index.js__
```js
export {
  close,
} from './dbFunctions'
```

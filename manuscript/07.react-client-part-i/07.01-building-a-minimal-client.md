## Building a Minimal Client

## Project Structure

The project structure for this part of the React client may seem more than is needed. However, this is just the beginning. To help put things in context, here is a look ahead at the final project structure.

> Each folder under /src contains more files and folders which are omitted from the below.

```
|- config (create-react-app configuration)
|- public (index.html & other public files)
|- scripts (react-scripts from create-react-app)
|- src (our application code)
|  |- api (code for calling the API)
|  |- config (our applications configuration)
|  |- elements (reusable React components)
|  |- logger (colored logging to the console)
|  |- store (Redux config, actions, reducers & selectors )
|  |- ui (unique UI components such as Home and Todos)
|- |- glboal-constants.js (constants used across multiple components)
|- |- auth0-spa.js (code for authentication and access)
|- |- serviceWorker.js ?
|- |- setupProxy.js (proxying calls to the API while in dev)
|- |- Wrapper.jsx (wrapper component to add global styles)
|- .gitignore
|- package-lock.json
|- package.json
|- prettier.config (prettier code formatting configuration)
|- README.md
```

The project structure for the section will be
```
|- config (create-react-app configuration)
|- public (index.html & other public files)
|- scripts (react-scripts from create-react-app)
|- src (our application code)
|  |- elements (reusable React components)
|  |- logger (colored logging to the console)
|  |- ui (unique UI components such as Home and Todos)
|- |- serviceWorker.js ?
|- .gitignore
|- package-lock.json
|- package.json
|- prettier.config (prettier code formatting configuration)
|- README.md
```

## Create React App

Use [Create React App](https://facebook.github.io/create-react-app/) to make the initial application.

```console
$ npx create-react-app todo-client
```

## NPM & Yarn
I have used both Yarn and npm and don't really have a preference. If I'm working with an established project I use whatever is already in use. For projects I start I use npm. Follow the steps below to replace Yarn with npm.

```console
rm -rf node_modules
rm yarn.lock
npm i
```

> Was that really necessary? I'm not actually sure that removing node_modules and re-installing was needed, but it seems a good clean way of doing things. However, our package versions will be managed by package-lock.json so yarn.lock should be removed.



## Create New Structure

Modify the result of Create React App as follows



Create React App has created teh `/src` folder for us but has a flat structure there after. As a React project grows it can have many components and a way of organizing them into folders.


```console
cd src
rm App.css
rm App.test.js
rm index.css
rm logo.svg
mv App.js App.jsx
mkdir ui
mkdir ui/App
mv App.jsx ui/App/App.jsx
touch ui/App/index.js
```

**src/index.js**
```js
import React from 'react';
import ReactDOM from 'react-dom';
- import './index.css';
- import App from './App';
+ import App from './ui/App'
import * as serviceWorker from './serviceWorker';

ReactDOM.render(<App />, document.getElementById('root'));

// If you want your app to work offline and load faster, you can change
// unregister() to register() below. Note this comes with some pitfalls.
// Learn more about service workers: https://bit.ly/CRA-PWA
serviceWorker.unregister();

```

**src/ui/App/App.jsx**
```js
import React from 'react';

const App = () => {
  return (
    <div>
      <h1>Todo App</h1>
    </div>
  );
}

export default App;
```

**/src/ui/App/index.js**
```js
export { default } from './App'
```

Give it a try

```console
npm start
```

You now have the simpliest possible React application. 





# OLD - will be used

Mods
---
- Convert component to Class
- Add state
- Add `componentDidMount` with `async`
- Use [`fetch`](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API) to call the API
- Put returned data in state
- Delete from body ... stuff ...
- Add to body (shows object in state)

```js
import React from "react";
import logo from "./logo.svg";
import "./App.css";

const codeStyle = {
  color: 'white',
  textAlign: 'left'
}
class App extends React.Component {

  state = {
    data: undefined
  }
  async componentDidMount() {
    const r1 = await fetch("https://api.klequis-todo.tk");
    const data = await r1.json()
    this.setState({ data: data })
  }

  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <div>
            <pre style={codeStyle}>{JSON.stringify(this.state.data, null, 4)}</pre>
          </div>
        </header>
      </div>
    );
  }
}

export default App;

```

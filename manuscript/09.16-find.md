# Finding Documents

Add `find` to `db/dbFunctions.js`

```js
/**
 * 
 * @param {string} collection the name of a collection
 * @param {object} filter filter criteria
 * @param {object} project a valid projection
 */
export const find = async (collection, filter = {}, project = {}) => {
  try {
    const { db } = await connectDB()
    const ret = await db.collection(collection).find(filter).project(project).toArray()
    return formatReturnSuccess(ret)
  }
  catch (e) {
    logError('find', e)
    return formatReturnError(e)
  }
}
```

Add `find` to exports in `db/index.js`

__db/index.js__

```js
export { 
  dropCollection,
  find, // added
  insertOne
} from './dbFunctions'
```

Add `find` to imports in `dbFunctions.test.js`

```js
import { 
  dropCollection,
  find,  // added
  insertOne
} from 'db'
```

## Return Value

```js
[ { _id: 5ce2c64ca2e12f5c5ea0a5fd,
    title: 'first todo',
    completed: false },
  { _id: 5ce2c64ca2e12f5c5ea0a5fe,
    title: 'second todo',
    completed: false },
  { _id: 5ce2c64ca2e12f5c5ea0a5ff,
    title: 'third todo',
    completed: false },
  { _id: 5ce2c64ca2e12f5c5ea0a600,
    title: 'fourth todo',
    completed: false } ]
```

Since the return value of find is simply an array of the inserted documents, the entire return value will be returned.

## Testing `find`

__test/dbFunctions.test.js__
```js
describe('test find', function() {
  before(async function() {
    console.log('**before**');
    await dropCollection(collectionName)
    await insertMany(collectionName, fourTodos)
  })
  it('find: should return 4 todos', async function() {
    const f = await find(collectionName)
    expect(f.data.length).to.equal(4)
  })
})
```
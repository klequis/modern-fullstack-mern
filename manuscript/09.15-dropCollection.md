# Drop Collection

The `dropCollection` function takes one parameter, a collection name. 

## Add `dropCollection` to `db/dbFunctions.js`

__db/dbFunctions.js__
```js
/**
 *
 * @param {string} collection the name of a collection
 */
export const dropCollection = async (collection) => {
  try {
    const { db } = await connectDB()
    const ret = await db.collection(collection).drop()
    return formatReturnSuccess(ret)
  }
  catch (e) {
    if (e.message = 'ns not found') {
      return formatReturnSuccess(true)
    } else {
      logError('dropCollection', e)
      return formatReturnError(e)
    }
  }
}
```

## Export `dropCollection` in `db/index.js`

__db/index.js__
```js
export { 
  dropCollection,
  insertOne // added
} from './dbFunctions'
```

## Return Value

If the collection is successfully dropped or if the collection does not exist our `dropCollection` will return `{ data: true, error: null }`. If there is an error it will return the error.

## Import `dropCollection` in `test/dbFunctions.test.js`

__test/dbFunctions.test.js__
```js
...
import { 
  close,
  dropCollection // added
} from 'db'
...
```

## Test `dropCollection`

```js
describe('dbFunctions', function() {
  describe('test dropCollection', function() {
    // In the event the collection to drop is not found, dropCollection()
    // will return { data: true, error: null }
    it('should return true', async function() {
      await insertMany(collectionName, fourTodos)
      const dc = await dropCollection(collectionName)
      expect(dc.data).to.equal(true)
    })
  })
})  
```


# Drop Collection

The `dropCollection` function takes one parameter, a collection name. 

Add `dropCollection` to `db/dbFunctions.js`

__db/dbFunctions.js__
```js
/**
 *
 * @param {string} collection the name of a collection
 */
export const dropCollection = async collection => {
  try {
    const { db } = await connectDB()
    const ret = await db.collection(collection).drop()
    return formatReturnSuccess(ret)
  }
  catch (e) {
    if (e.message = 'ns not found') {
      return formatReturnSuccess(true)
    } else {
      return formatReturnError('insertMany', e)
    }
  }
}
```

Add `dropCollection` to exports in `db/index.js`

__db/index.js__
```js
export { 
  insertMany,
  dropCollection // added
} from './dbFunctions'
```

## Return Value

MongoDB's `dropCollection` will return `true` if the collection is found and successfully dropped. If the collection is not found it will return the error `ns not found`. Remember that `dropCollection` is only used in testing and its goal is to wipe the remains from the previous test. Therefore, if the collection doesn't exist our goal is achieved and out function will return `true` (`{ data: true, error: null }`) 

```js
describe('test dropCollection', function() {
  before(async function() {
    await dropCollection(collectionName)
    await insertMany(collectionName, fourTodos)
  })
  // In the event the collection to drop is not found, dropCollection()
  // will return { data: true, error: null }
  it('should return true', async function() {
    const dc1 = await dropCollection(collectionName)
    expect(dc1.data).to.equal(true)
    const dc2 = await dropCollection(collectionName)
    expect(dc2.data).to.equal(true)
  })
})
```
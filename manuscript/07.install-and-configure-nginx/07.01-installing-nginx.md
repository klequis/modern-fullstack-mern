# Installing Nginx

NOTE TO ME: Had problem getting new page to show instead of default. Seems default responds to the ip address and the new page responds to api.klequis-todo.tk. Therefore, important to setup DNS as early as possible.


## Ref
- https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04

```js
sudo apt update
sudo apt install nginx
```
## Adjust the Firewall

Checking the firewall will not show Nginx allowed.

```
sudo ufw status
```

Reply:

```
To                         Action      From
--                         ------      ----
OpenSSH                    ALLOW       Anywhere                  
OpenSSH (v6)               ALLOW       Anywhere (v6)
```

It will show that Nginx is registered.

```
sudo ufw app list
```

Allow Nginx.

```
sudo ufw allow 'Nginx HTTP'
```

Reply:

```
Rule added
Rule added (v6)
```

Recheck status.

```
sudo ufw status
```

Reply:

```
To                         Action      From
--                         ------      ----
OpenSSH                    ALLOW       Anywhere                  
Nginx HTTP                 ALLOW       Anywhere                  
OpenSSH (v6)               ALLOW       Anywhere (v6)             
Nginx HTTP (v6)            ALLOW       Anywhere (v6)  
```

## Check Web server

```js
systemctl status nginx
```

Reply:

The reply should show a green circle and the text 'active (running)' will be highlighted.

```
● nginx.service - A high performance web server and a reverse proxy server
   Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
   Active: active (running) since Fri 2020-01-24 18:17:23 UTC; 6min ago
     Docs: man:nginx(8)
 Main PID: 14567 (nginx)
    Tasks: 2 (limit: 1152)
   CGroup: /system.slice/nginx.service
           ├─14567 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;
           └─14570 nginx: worker process
```

## View default page in browser

You should now be able to use the servers ip address to see the default nginx page.

> Use the 'ipv4' address.

```js
http://your_server_ip
```

Note in the address bar that the connection is not using HTTPS and therefore not secure. We will address that shortly.

# Securing Nginx with Let's Encrypt

## Ref

- https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-18-04

## Install Certbot

Add repository (Install Certbot)

```js
sudo add-apt-repository ppa:certbot/certbot
```

Install

```js
sudo apt install python-certbot-nginx
```

## Confirm Configuration

- this section inspects the serer block configuration

```js
sudo nano /etc/nginx/sites-available/api.klequis-todo.tk
```


## Allow HTTPS

Add Nginx Full

```js
sudo ufw allow 'Nginx Full'
```

Remove Ngnix HTTP

```js
sudo ufw delete allow 'Nginx HTTP'
```

## Obtain an SSL Certificate (Get SSL Certificate)

NOTE: in my origin article i did not include the second '-d' that has 'www'. Don't see a need for it.

```js
sudo certbot --nginx -d api.klequis-todo.tk -d www.api.klequis-todo.tk
```

Choices are presented. Choose #2 'Redirect'


## Test the Auto-renewal process

```js
sudo certbot renew --dry-run

```

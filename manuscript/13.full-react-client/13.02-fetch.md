---

## Fetch

---

- https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch
- https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch


- **OK:** status true/false
- Only rejects if there is a network failure or if anything prevented teh request from completing
- **`json()`:** use to extract JSON from the body of a response

- fetch will only reject on network errors
- you need to check OK or status on every response


## OK

```js
const r = fetch('...')
if(r.ok) {
  return response.?? probabely 'body'
}

```

Should I check content type before proceeding?

```js
fetch(myRequest).then(function(response) {
    var contentType = response.headers.get('content-type');
    if(contentType && contentType.includes('application/json')) {
      return response.json();
    }
    throw new TypeError("Oops, we haven't got JSON!");
  })
  .then(function(json) { /* process your JSON further */ })
  .catch(function(error) { console.log(error); });
```


